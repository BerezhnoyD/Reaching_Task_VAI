<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(3)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(3) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(3) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Hardware part | ReachOut kinematic analysis</title> <meta name="generator" content="Jekyll v4.3.3" /> <meta property="og:title" content="Hardware part" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="This is a description of ReachOut behavioral box electronics" /> <meta property="og:description" content="This is a description of ReachOut behavioral box electronics" /> <link rel="canonical" href="http://localhost:4000/hardware.html" /> <meta property="og:url" content="http://localhost:4000/hardware.html" /> <meta property="og:site_name" content="ReachOut kinematic analysis" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Hardware part" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"This is a description of ReachOut behavioral box electronics","headline":"Hardware part","url":"http://localhost:4000/hardware.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> ReachOut kinematic analysis </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/assembly.html" class="nav-list-link">Behavioral apparatus</a></li><li class="nav-list-item"><a href="/hardware.html" class="nav-list-link">Hardware part</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Software part category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/software.html" class="nav-list-link">Software part</a><ul class="nav-list"><li class="nav-list-item"><a href="/install.html" class="nav-list-link">Software Installation</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search ReachOut kinematic analysis" aria-label="Search ReachOut kinematic analysis" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h2 id="hardware-overview"> <a href="#hardware-overview" class="anchor-heading" aria-labelledby="hardware-overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hardware overview </h2> <p>Here is the design of the whole setup, everything on the box side is controlled by <strong>Arduino</strong>, and the experiment can be performed event without the the computer, but you will need <strong>the PC</strong> to save the streaming data from the camera and the box sensors.</p> <p><img src="/images/Overview.PNG" alt="drawing" width="600" height="600" /></p> <p>The <strong>control</strong> of the behavioral protocol, all the <strong>stimuli</strong> and <strong>reinforcement</strong> (food pellets) presentation, <strong>data logging</strong> from the sensors and video camera stream activation is handled by the custom circuit, connected to all the components of the reaching box. The schematics are housed in a small 3d printed box and soldered together on a simple breadboard. Most of the components are ready available cicuit modules, which you just need to put together (no extensive knowledge of electronics needed).</p> <h2 id="main-circuit-components"> <a href="#main-circuit-components" class="anchor-heading" aria-labelledby="main-circuit-components"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Main circuit components </h2> <p><img src="/images/circuit.PNG" alt="Image" /></p> <p>The same schematics can be found in the Repository and <a href="https://star-protocols.cell.com/protocols/3539">STAR Protocols</a> article, supplementary materials. The main components of the system are the <strong>Arduino Nano</strong> controller autonomously performing the programmed experimental protocol (written in C++ using Arduino IDE) with different <strong>Adafruit shields</strong> connected to it. Hence, powered with an external 5V source this behavioral system can be used autonomously for automatic/semi-automatic training of mice to perform the reach-to-grasp task, freeing the experimenter from the manual handling of behavioral protocol, and allowing seamless integration with <em>in vivo</em> electrophysiology recording or other current brain recording/stimulation methods.</p> <p>At the same time, connected to the <strong>computer with a USB cable</strong> and a simple <strong>Python program</strong> on the computer side this system saves two data streams and allows live monitoring of the data: basic behavioral data from the touch sensors (position of the animal, paw placement, time spent in front of the slit, timing and number of trials) and 3d view of the reaching movement (from the front camera and two side mirrors) that allows for more sophisticated kinematic analysis of both left and right-hand reaches.</p> <h2 id="uploading-the-experimental-protocol"> <a href="#uploading-the-experimental-protocol" class="anchor-heading" aria-labelledby="uploading-the-experimental-protocol"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Uploading the experimental protocol </h2> <p>The assembled box is programmed with <a href="https://www.arduino.cc/en/software">Arduino IDE</a> for its use as a standalone device for automated/semi-automated animal training and behavioral data acquisition. The reaching box can log basic behavioral data (touch/beam sensors) and is designed to be connected to external devices to trigger in vivo imaging, optogenetic stimulation etc. It can stream the synchro signal from the behavioral events recorded by the onboard sensors with millisecond resolution, which makes it ideally fitted for synchronized behavioral-neurophysiology experiments. With the use of multiple mirrors, the system can acquire multiple close-up views for 3d trajectory reconstruction (triangulation) of the reach-to-grasp movement with a single high-speed <strong>FLIR camera</strong> when connected to the <strong>desktop PC</strong>. The output of the system is a behavioral video of the reaching movements throughout the learning session along with the <em>.tsv</em> table of the synchronized data from <strong>Arduino</strong>.</p> <p>After a single upload of the program the board will perform it autonomously on every power up without any actions needed from the user. To switch to another protocol, we’ll need to upload another program using Arduino IDE. The Arduino programming environment can be downloaded from the official website <a href="https://www.arduino.cc/en/software">Arduino IDE</a> and is used to write compile and upload the C++ code for Arduino controllers.</p> <h3 id="list-of-the-programs-provided-in-the-repository"> <a href="#list-of-the-programs-provided-in-the-repository" class="anchor-heading" aria-labelledby="list-of-the-programs-provided-in-the-repository"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> List of the programs provided in the repository: </h3> <ol> <li><strong><em>Reaching_Task_Draft</em></strong> – basic protocol with initialization for all the components to explore the structure of the program.</li> <li><strong><em>Reaching_Task_Manual</em></strong> - Feeder makes one step clockwise or counterclockwise when the experimenter presses the left or right button respectively.</li> <li><strong><em>Reaching_Task_Feeder_Training</em></strong> – Feeder takes one step every 10sec while animal is in the front part of the box.</li> <li><strong><em>Reaching_Task_Door_Training</em></strong> – If animal is detected in the front part of the box and grabs the elevated front rod, the feeder takes one step and the door blocking the slit opens (need additional servo motor connected, see Fig.3D).</li> <li><strong><em>Reaching_Task_CS_Training</em></strong> - If animal is detected in the front part of the box the speaker delivers 5s beep sound (CS trial) with intertrial intervals of 5s (ITI) and if the animal grabs the elevated front rod during this sound (trial) the feeder makes one step and the door blocking the slit opens</li> </ol> <h2 id="qa"> <a href="#qa" class="anchor-heading" aria-labelledby="qa"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Q&amp;A </h2> <p>If you still have questions after reading this and <a href="https://star-protocols.cell.com/protocols/3539">STAR Protocols</a> please let us know and we list it in this section.</p><hr /> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
